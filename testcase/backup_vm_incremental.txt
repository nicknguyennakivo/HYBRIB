@testcase backup_vm_incremental
@depends_on backup_vm_full
@max_wait 30
@poll_interval 2


@pre
Given I connect to Linux machine "10.10.17.105" via SSH
  And I authenticate as user "root" with password "P@ssword123"
When I create file "/testdata/incremental/file_05.txt" with content "incremental test"
Then the file "/testdata/incremental/file_05.txt" should exist


@run
Type "admin" on the username input.
Type "admin" on password input.
Expect "Log In" to be visible.
Click the "Log In" button.
Expect "Data Protection" to be visible.

Open the Data Protection menu.
Click the “test_vm” job.
Verify that the "Run" icon is visible.
Click Run.
Verify that the "Run this job?" dialog is displayed.
Select "Incremental" from the Backup Type dropdown.
Click Run.
Wait until the job status in Job Info is not "Running".
Verify that the job status is Completed.


@finally
